"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[102],{94:function(e,n,t){t.d(n,{SU:function(){return u},bI:function(){return d},Mc:function(){return v},kK:function(){return h},sv:function(){return m}});var c=t(861),r=t(757),a=t.n(r),s="https://api.themoviedb.org/3/",i="c7ed46652640bc5a91d5a4e73d915c28";function o(){return l.apply(this,arguments)}function l(){return l=(0,c.Z)(a().mark((function e(){var n,t,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",e.next=3,fetch(n);case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return o("".concat(s,"trending/movie/day?api_key=").concat(i,"&page=1"))}function d(e){return o("".concat(s,"search/movie?api_key=").concat(i,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}function v(e){return o("".concat(s,"movie/").concat(e,"?api_key=").concat(i,"&language=en-US"))}function h(e){return o("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US"))}function m(e){return o("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1"))}},319:function(e,n){n.Z=function(){return{IDLE:"idle",PENDING:"pending",REJECT:"reject",RESOLVE:"resolve"}}},102:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var c=t(152),r=t(791),a=t(271),s=t(523),i="FilmsCard_link__-0Mgy",o="FilmsCard_activeLink__ThzuE FilmsCard_link__-0Mgy",l="FilmsCard_filmsCard_box__-0XuS",u="FilmsCard_poster_box__Qt+ul",d="FilmsCard_button__jOB+0",v="FilmsCard_button_img__sfMW3",h="FilmsCard_text_box__v15rb",m=t(184);var f=function(e){var n,t,c,r,a=e.propsForRender,f=e.url,p=e.onClick,_=e.location,g=a.genres,x=a.overview,j=a.title,k=a.score,w=a.img,b=a.release;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:l,children:[(0,m.jsxs)("div",{className:u,children:[(0,m.jsxs)("button",{type:"button",className:d,onClick:p,children:[(0,m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/60/60577.png",alt:"go back",width:"10",hight:"10",className:v}),"Go Back"]}),(0,m.jsx)("img",{src:w,alt:j,width:"250"})]}),(0,m.jsxs)("div",{className:h,children:[(0,m.jsxs)("h2",{children:[j," (",b,")"]}),(0,m.jsxs)("p",{children:["User score: ",k]}),(0,m.jsx)("h3",{children:"Overview"}),(0,m.jsx)("p",{children:x}),(0,m.jsx)("h3",{children:"Genres"}),(0,m.jsx)("p",{children:g})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(s.OL,{to:{pathname:"".concat(f,"/cast"),state:{from:null!==(n=null===_||void 0===_||null===(t=_.state)||void 0===t?void 0:t.from)&&void 0!==n?n:null}},exact:!0,className:i,activeClassName:o,children:"Cast"}),(0,m.jsx)(s.OL,{to:{pathname:"".concat(f,"/reviews"),state:{from:null!==(c=null===_||void 0===_||null===(r=_.state)||void 0===r?void 0:r.from)&&void 0!==c?c:null}},className:i,activeClassName:o,children:"Reviews"})]})]})},p=t(367),_=t(94),g=t(319),x=(0,r.lazy)((function(){return t.e(90).then(t.bind(t,90))})),j=(0,g.Z)();function k(){var e=(0,a.k6)(),n=(0,a.TH)(),t=(0,a.UO)().movieId,s=(0,a.$B)(),i=s.url,o=s.path,l=(0,r.useState)({}),u=(0,c.Z)(l,2),d=u[0],v=u[1],h=(0,r.useState)(j.IDLE),g=(0,c.Z)(h,2),k=g[0],w=g[1],b=(0,r.useState)(""),C=(0,c.Z)(b,2),E=C[0],N=C[1];(0,r.useEffect)((function(){w(j.PENDING),_.Mc(t).then((function(e){var n=e.genres,t=e.overview,c=e.title,r=e.vote_average,a=e.poster_path,s=e.release_date;v((function(){return{genres:n.map((function(e){return e.name})).join(" "),overview:t,title:c,score:"".concat(10*r,"%"),img:a?"".concat("https://image.tmdb.org/t/p/w500/").concat(a):"".concat("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9Kf9kZ-VRf0wuP6QnKdra9fDBeqafqtjEas8WL2fwQdO0OZAG7AXN0wJZ9AkwQH2qL30&usqp=CAU"),release:s.slice(0,4)}})),w(j.RESOLVE)})).catch((function(e){N(e.message),w(j.REJECT)}))}),[t]);return(0,m.jsxs)(m.Fragment,{children:[k===j.RESOLVE&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{propsForRender:d,url:i,onClick:function(){var t,c;e.push(null!==(t=null===n||void 0===n||null===(c=n.state)||void 0===c?void 0:c.from)&&void 0!==t?t:"/movies")},location:n}),(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(p.Z,{}),children:(0,m.jsxs)(a.rs,{children:[(0,m.jsx)(a.AW,{path:"".concat(o,"/cast"),exact:!0,children:(0,m.jsx)(x,{movieId:t,details:"cast"})}),(0,m.jsx)(a.AW,{path:"".concat(o,"/reviews"),children:(0,m.jsx)(x,{movieId:t,details:"reviews"})})]})})]}),k===j.PENDING&&(0,m.jsx)(p.Z,{}),k===j.REJECT&&(0,m.jsx)("h2",{children:E})]})}}}]);
//# sourceMappingURL=102.66ef269c.chunk.js.map